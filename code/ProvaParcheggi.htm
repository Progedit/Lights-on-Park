<HTML>
<HEAD>
    <style>
        :root {
            --green: #008000;
        }
        textarea{
            width: 45%;
            height: 60%;
            position: absolute;
            right: 8%;
            top: 22%;
            
        }

        table {
            width: 45%;
        }

        td {
            width: 30%;
            position: relative;
        }

        td:after {
            content: '';
            display: block;
            margin-top: 85%;
        }

        td .content {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            border: 5px solid black;
            background: var(--green);
        }

        button{
            width: 45%; 
            background-color: darkblue;
            color: yellow;
        }
        h3 {
            position: absolute;
            right: 45%;
            top: 17%;
        }

        h2 {
            position: absolute;
            top: 21%;
            bottom: 0;
            left: 47.5%;
            right: 0;
            color: darkorange;
            font-size: 250%;
        }
    </style>
    <META NAME="GENERATOR" Content="Microsoft Visual Studio">
    <TITLE>Lights on Parking</TITLE>
</HEAD>
<BODY>
    <h1>Lights on Parking</h1>
    <p><button onclick="mySimulation()">Start Simulation</button></p>
    <!--<p><button onclick="myReset()">Reset</button></p>-->
    <table>
        <tr>
            <td><div id="1" class="content"><h2>1</h2></div></td>
            <td><div id="2" class="content"><h2>2</h2></div></td>
            <td><div id="3" class="content"><h2>3</h2></div></td>
        </tr>
        <tr>
            <td><div id="4" class="content"><h2>4</h2></div></td>
            <td><div id="5" class="content"><h2>5</h2></div></td>
            <td><div id="6" class="content"><h2>6</h2></div></td>
        </tr>
        <tr>
            <td><div id="7" class="content"><h2>7</h2></div></td>
            <td><div id="8" class="content"><h2>8</h2></div></td>
            <td><div id="9" class="content"><h2>9</h2></div></td>
        </tr>
    </table>
    <h3>Parking Situation:</h3>
    <textarea id="park_lot"></textarea>
    <a href="https://github.com/Progedit/Lights-on-Parking" style="font-size:150%">Follow us on GitHub</a>
    <script>
        var changeG = 0;
        var changeR = 0;
        function setGreen() {
            var rand_i = 1 + Math.floor(Math.random() * 9);
            var id = document.getElementById(rand_i);
            if (id.style.background == "red") {
                id.style.background = "green";
                changeG = 1;
                if (changeG == 1) {
                    console.log("Parking lot " + rand_i + " is free!");
                    document.getElementById("park_lot").append("Parking lot " + rand_i + " is free!\n");
                    changeG = 0;
                }
            }

        }

        function setRed() {
            var rand_i = 1 + Math.floor(Math.random() * 9);
            var id = document.getElementById(rand_i);
            if (id.style.background == "green") {
                id.style.background = "red";
                changeR = 1;
                if (changeR == 1) {
                    console.log("Parking lot " + rand_i + " is occupied!");
                    document.getElementById("park_lot").append("Parking lot " + rand_i + " is occupied!\n");
                    changeR = 0;
                }
            }

        }
        var intR;
        var intG;

        function mySimulation() {
            intR = setInterval(setRed, 5000);
            intG = setInterval(setGreen, 10000);
            setRed();
            setGreen();
        }
        /*
        function myReset() {
            clearInterval(intR);
            clearInterval(intG);
            var id;
            for (var i = 1; i <= 9; i++) {
                id = document.getElementById(i);
                id.style.background = "green";
            }
            document.getElementById("park_lot").removeChild();
        }
        */
    </script>
</BODY>
</HTML>
